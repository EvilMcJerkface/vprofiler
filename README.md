# VProfiler

VProfiler is a profiling tool that can efficiently and rigorously decompose the variance of the overall execution time of an application by automatically instrumenting its source code, and identifying the major functions that contribute the most to the overall variance. This tool is still at an early version, and it supports only MySQL and Postgres.

This tool contains four parts:

1. ExecutionTimeTracer: the tracer collects execution time data for a certain function and all the function called in that function. It also collects latency data. Appropriate functions should be called in order to mark the start and end of a query and transaction. Data files will be generated after each run with all the execution time data for further analysis

2. SourceAnnotator: the annotator instruments the source code of the software application. It inserts appropriate function calls to call the functions defined in ExectuionTimeTracer to mark the start and end of a function call.

3. VarianceBreaker: Given the execution time data generated by ExecutionTimeTracer, the breaker breaks down the variance of a function into variance and covarainces of its child functions and add corresponding entries to the variance tree file contained in the FactorSelector

4. FactorSelector: Given the variance tree generated by the VarianceBreaker, the selector performs a selections on the variance tree to select the top k most interesting functions. Note that this tool requires a pre-generated static call graph for the software application. Such call graph can be generated using tools like [CodeViz](http://www.csn.ul.ie/~mel/projects/codeviz/). A tool is supplied to parse the call graph and compute the height of each function in the call graph, starting from the entry function.
